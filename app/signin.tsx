import { Colors } from '@/constants/theme';
import { router } from 'expo-router';
import { StatusBar } from 'expo-status-bar';
import React, { useState } from 'react';
import { Pressable, StyleSheet, Text, TextInput, TouchableOpacity, View } from 'react-native';
import { SafeAreaView } from 'react-native-safe-area-context';
import Svg, { Path } from 'react-native-svg';
import Icon from 'react-native-vector-icons/Feather';

type Props = {}

const signin = (props: Props) => {
  const [email, setEmail] = React.useState('');
  const [password, setPassword] = useState('');
  const [isPasswordVisible, setIsPasswordVisible] = useState(false);

  return (
    <SafeAreaView style={{ flex: 1,  }}>
      <StatusBar style="dark" />
      <View style={styles.container}>
        <View style={styles.header}>
          <Pressable onPress={() => {router.replace("/welcome")}}>
            <Text style={{ fontSize: 30 }}>‚Üê</Text>
          </Pressable>
          <Text style={styles.title}>NBM</Text>
          <View style={{transform: [{ scale: .5 }, { rotate: '90deg' },],}}>
            <Svg
              width={60}
              height={80}
              viewBox="0 0 120 179"
              fill="none"
              >
              <Path
                d="M119.606 135.34C116.072 120.25 98.695 98.0794 95.885 94.5654C90.478 79.1444 80.943 55.2304 72.1 49.0674L72.068 32.1744C72.0665 25.4171 70.7796 18.7218 68.276 12.4454L67.856 11.1924L64.819 3.53139C64.4044 2.48833 63.6859 1.59393 62.7567 0.964237C61.8275 0.334541 60.7305 -0.00139694 59.6081 4.36618e-06C58.4856 0.00140568 57.3895 0.340081 56.4619 0.972095C55.5343 1.60411 54.818 2.50029 54.406 3.54439L51.396 10.9544L51.028 12.3304C48.5225 18.6615 47.2444 25.4115 47.262 32.2204L47.294 49.1644C38.494 55.4434 29.094 79.3004 23.754 94.7004C20.95 98.2274 3.682 120.579 0.168 135.566L0 136.334L0.194 137.096C2.972 147.91 28.153 149.46 43.394 149.396L43.4 151.78C43.4054 152.589 43.5998 153.385 43.9677 154.105C44.3356 154.825 44.8669 155.449 45.519 155.927C46.4543 156.628 47.469 157.216 48.542 157.678L48.555 164.183L45.176 176.302L51.662 177.859C57.187 179.166 62.942 179.155 68.462 177.827L74.948 176.251L71.524 164.151L71.511 157.497C72.5202 157.029 73.4735 156.448 74.353 155.766C75.2199 155.089 75.8431 154.148 76.129 153.085C76.2483 152.645 76.3091 152.191 76.31 151.735L76.304 149.335C91.478 149.361 116.679 147.746 119.566 136.984L119.592 136.874L119.786 136.112L119.606 135.34ZM62.681 15.8884C63.1785 17.3965 63.5967 18.9296 63.934 20.4814C62.6808 19.703 61.2362 19.2876 59.761 19.2814C58.0872 19.3138 56.4637 19.8594 55.11 20.8444C55.5131 19.1712 56.0025 17.52 56.576 15.8974C58.5377 15.1385 60.7111 15.1338 62.676 15.8844M59.787 31.2504C58.6 31.2574 61.357 31.2504 59.787 31.2504V31.2504ZM54.729 81.2184L64.858 81.1974L65.058 152.573L65.013 152.579L54.961 152.592L54.729 81.2184ZM6.7 136.097L6.706 136.071L6.7 136.097ZM65.059 161.937C64.759 161.989 64.478 162.06 64.18 162.105C63.418 162.205 62.649 162.247 61.88 162.299C60.6192 162.377 59.3548 162.377 58.094 162.299C57.37 162.254 56.647 162.221 55.923 162.125C55.613 162.086 55.316 162.002 55.006 161.957L54.993 159.057L65.019 159.044L65.058 159.038L65.059 161.937Z"
                fill={Colors.main}
              />
            </Svg>
          </View>
        </View>
        <Text style={styles.heading}>Log In</Text>
        <Text style={styles.subtitle}>Enter your details to log into your account.</Text>
        <Text style={styles.inputHeader}>Email</Text>
        <TextInput
          style={styles.input}
          onChangeText={setEmail}
          placeholder="you@email.com.au"
          value={email}>
        </TextInput>
        <Text style={styles.inputHeader}>Password</Text>
        <View style={styles.passwordInputContainer}>
          <TextInput
            style={styles.input}
            onChangeText={setPassword}
            value={password}
            placeholder="Enter your password"
            secureTextEntry={!isPasswordVisible}>
          </TextInput>
          <TouchableOpacity
            style={styles.iconContainer}
            onPress={() => setIsPasswordVisible(!isPasswordVisible)}>
          <Icon
            name={isPasswordVisible ? 'eye-off' : 'eye'} 
            size={24}
            color={Colors.border} 
            />
          </TouchableOpacity>
        </View>
        <Pressable onPress={() => {/*router.replace("/forgot-password")*/}} style={{ alignSelf: 'flex-end' }}>
          <Text style={{ color: Colors.main, fontSize: 14, fontFamily: 'Syne_400Regular' }}>Forgot your password?</Text>
        </Pressable>
        <Pressable style={styles.signInButton} onPress={() => {router.replace("/")}}>
          <Text style={{ color: 'white', fontSize: 16, fontFamily: 'Syne_400Regular' }}>Log In &rarr;</Text>
        </Pressable>
        <View style={styles.footer}>
          <Text style={{ color: Colors.main, fontFamily: 'Syne_400Regular', fontSize: 14 }}>Don't have an account? </Text>
          <Pressable onPress={() => {router.replace("/signup")}}>
            <Text style={{ color: Colors.main, fontSize: 14, fontFamily: 'Syne_400Regular', textDecorationLine: 'underline' }}>Create one here.</Text>
          </Pressable>
        </View>
      </View>
                
    </SafeAreaView>
  )
}

export default signin

const styles = StyleSheet.create({
  container: {
    width: '100%',
    flex: 1,
    padding: 35,
  },
  header: {
    flexDirection: 'row',
    fontSize: 24,
    alignItems: 'center',
    height: 50,
  },
  title: {
    marginLeft: 80, 
    fontFamily: 'Syne_700Bold', 
    fontSize: 25, 
    color: Colors.main
  },
    heading: {
    fontFamily: 'Syne_700Bold',
    fontSize: 28,
    marginTop: 20,
    marginBottom: 12,
    width: '100%'
  },
    subtitle: {
    fontFamily: 'Syne_400Regular',
    fontSize: 16,
    marginBottom: 20,
  },
    inputHeader: {
    fontFamily: 'Syne_700Bold',
    fontSize: 16,
    paddingVertical: 10   
  },
    input: {
    height: 50,
    width: '100%',
    borderWidth: 1,
    borderColor: Colors.border,
    padding: 10,
  },
  passwordInputContainer:{
    marginVertical: 10,
    flexDirection: 'row',
    alignItems: 'center',
  },
    iconContainer: {
    alignItems: 'center',
    position: 'absolute',
    right: 10,
    padding: 10,
  },
    signInButton: {
    backgroundColor: Colors.main,
    paddingVertical: 15,
    alignItems: 'center',
    marginTop: 20,
  },
  footer: {
    marginTop: 'auto',
    flexDirection: 'row',
    justifyContent: 'center',
  }
});